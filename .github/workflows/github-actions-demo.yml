name: Run ReadyAPI Tests

on: [push]

jobs:
  run-tests:
    runs-on: windows-latest

    steps:
    - name: Check out repository
      uses: actions/checkout@v4

    - name: Set up ReadyAPI environment
      run: |
        echo "READYAPI_HOME=testrunner.bat" >> $GITHUB_ENV
        echo "PROJECT_DIR=${{ github.workspace }}" >> $GITHUB_ENV
      shell: cmd

    - name: Run ReadyAPI Tests
      run: |
        %READYAPI_HOME% "-sDemoAppProject" -r -a -j "-f%PROJECT_DIR%\ReadyAPI Reports" "-RJUnit-Style HTML Report" -FXML %PROJECT_DIR%\DemoAppProject
      shell: cmd
